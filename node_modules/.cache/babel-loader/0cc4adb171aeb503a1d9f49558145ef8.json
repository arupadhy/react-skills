{"ast":null,"code":"var _jsxFileName = \"/Users/arvind/MyPlayground/refresh-react-skills/react-skills/src/components/reducer-context-memo-concepts/component-d.jsx\";\nimport React, { useReducer, useEffect } from 'react';\nimport axios from 'axios';\nconst initialState = {\n  isLoading: true,\n  isError: false,\n  posts: []\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'data_retrieved':\n      return { ...state,\n        posts: action.data,\n        isLoading: false\n      };\n\n    case 'error':\n      return { ...state,\n        isError: true,\n        isLoading: false\n      };\n\n    default:\n      return state;\n  }\n\n  return state;\n};\n\nexport default function ReducerComponentPartTwo() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const resp = await axios.get('https://jsonplaceholder.typicode.com/posts');\n        console.log('===================================================');\n        console.log(resp);\n        dispatch({\n          type: 'data_retrieved',\n          data: resp.data\n        });\n      } catch (err) {\n        dispatch({\n          type: 'error'\n        });\n      }\n    }\n  }, []);\n  console.log(state);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, state.isLoading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 30\n    }\n  }, \"Loading....\") : null, state.isError ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 28\n    }\n  }, \" Error \") : null, state.posts.map(post => /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 36\n    }\n  }, post.title, \" \")));\n}","map":{"version":3,"sources":["/Users/arvind/MyPlayground/refresh-react-skills/react-skills/src/components/reducer-context-memo-concepts/component-d.jsx"],"names":["React","useReducer","useEffect","axios","initialState","isLoading","isError","posts","reducer","state","action","type","data","ReducerComponentPartTwo","dispatch","fetchData","resp","get","console","log","err","map","post","title"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,UAAf,EAA2BC,SAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,SAAS,EAAE,IADM;AAEjBC,EAAAA,OAAO,EAAE,KAFQ;AAGjBC,EAAAA,KAAK,EAAC;AAHW,CAArB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC/B,UAAOA,MAAM,CAACC,IAAd;AACI,SAAK,gBAAL;AACE,aAAO,EAAE,GAAGF,KAAL;AAAYF,QAAAA,KAAK,EAAEG,MAAM,CAACE,IAA1B;AAAgCP,QAAAA,SAAS,EAAE;AAA3C,OAAP;;AACF,SAAK,OAAL;AACE,aAAO,EAAE,GAAGI,KAAL;AAAYH,QAAAA,OAAO,EAAE,IAArB;AAA2BD,QAAAA,SAAS,EAAE;AAAtC,OAAP;;AACF;AACE,aAAOI,KAAP;AANN;;AAQA,SAAOA,KAAP;AACH,CAVD;;AAYA,eAAe,SAASI,uBAAT,GAAmC;AAC9C,QAAM,CAACJ,KAAD,EAAQK,QAAR,IAAoBb,UAAU,CAACO,OAAD,EAAUJ,YAAV,CAApC;AAEAF,EAAAA,SAAS,CAAC,MAAM;AAEb,mBAAea,SAAf,GAA2B;AACvB,UAAI;AACH,cAAMC,IAAI,GAAG,MAAMb,KAAK,CAACc,GAAN,CAAU,4CAAV,CAAnB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,qDAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACAF,QAAAA,QAAQ,CAAC;AACLH,UAAAA,IAAI,EAAE,gBADD;AAELC,UAAAA,IAAI,EAAEI,IAAI,CAACJ;AAFN,SAAD,CAAR;AAIH,OARE,CAQF,OAAMQ,GAAN,EAAW;AACRN,QAAAA,QAAQ,CAAC;AACLH,UAAAA,IAAI,EAAE;AADD,SAAD,CAAR;AAGH;AACA;AAEJ,GAlBQ,EAkBN,EAlBM,CAAT;AAoBAO,EAAAA,OAAO,CAACC,GAAR,CAAYV,KAAZ;AACA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,KAAK,CAACJ,SAAN,gBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAlB,GAAuC,IAD1C,EAEGI,KAAK,CAACH,OAAN,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAhB,GAAiC,IAFpC,EAIGG,KAAK,CAACF,KAAN,CAAYc,GAAZ,CAAgBC,IAAI,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,IAAI,CAACC,KAAT,MAAxB,CAJH,CADJ;AAQH","sourcesContent":["import React, {useReducer, useEffect} from 'react';\nimport axios from 'axios';\n\nconst initialState = {\n    isLoading: true,\n    isError: false,\n    posts:[]\n}\n\nconst reducer = (state, action) => {\n    switch(action.type) {\n        case 'data_retrieved':\n          return { ...state, posts: action.data, isLoading: false }\n        case 'error':\n          return { ...state, isError: true, isLoading: false }\n        default:\n          return state;  \n    }\n    return state;\n}\n\nexport default function ReducerComponentPartTwo() {\n    const [state, dispatch] = useReducer(reducer, initialState);\n\n    useEffect(() => {\n\n       async function fetchData() {\n           try {\n            const resp = await axios.get('https://jsonplaceholder.typicode.com/posts');\n            console.log('===================================================');\n            console.log(resp);\n            dispatch({\n                type: 'data_retrieved',\n                data: resp.data\n            });\n        }catch(err) {\n            dispatch({\n                type: 'error'\n            });\n        }\n        }\n        \n    }, []);\n\n    console.log(state);\n    return (\n        <div>\n          {state.isLoading ? <p>Loading....</p> : null}\n          {state.isError ? <p> Error </p> : null}\n\n          {state.posts.map(post => <p>{post.title} </p>)}\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}